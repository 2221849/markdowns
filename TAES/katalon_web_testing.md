# Advanced Software Engineering

## Katalon Studio - Web Application Testing Overview

### WHY Katalon?

Katalon is a freemium test automation platform that simplifies web and mobile testing, built on top of Selenium and Appium. It is designed to accommodate both beginner and experienced testers by offering powerful features for test automation without needing deep programming expertise. Katalon uses Apache Groovy for scripting and provides Java libraries for test execution. Additionally, it supports Behavior Driven Development (BDD) using Gherkin syntax, making it easy to write human-readable tests.

### HEALTH CARE PROJECT

For this project, you will test the **CURA Healthcare Service** application, accessible at:
<https://katalon-demo-cura.herokuapp.com/>.

#### Goals

1. Create projects
2. Develop, verify, debug, plan, and execute test cases

### Installation and Setup

1. **Install Katalon Studio**:
   - Visit [Katalon Download Page](https://www.katalon.com/download/)
   - Download and install the version suitable for your operating system.
   - Set up your workspace and explore the UI.

2. **Recorder Installation (Optional)**:
   Install **Katalon Recorder** extension (if using browsers like Chrome or Firefox) to record web interactions directly in your browser.

### WEB TESTING

#### Scenario 1: Check content on the page

Steps to verify a simple page element (e.g., "Make Appointment" button):

1. **Set up a Project**:
   Create a new project in Katalon Studio for the CURA Healthcare Service application.

2. **Create the First Test Case**:
   - Open the Test Case tab.
   - Create a new test case (e.g., "Verify Make Appointment Button").

3. **Verification in the Test Case**:
   Add a step to verify the existence of the "Make Appointment" button using the Object Spy to capture the element.

4. **Run and Debug the Test Case**:
   Execute the test case and use debugging tools to identify any issues in the script.

5. **Object Spy**:
   Use the Object Spy to capture and inspect elements on the page, making it easier to select controls for test automation.

6. **Correct and Check the Generated Script**:
   Review and improve the script generated by the recorder for more accurate testing.

7. **Plan the Test Case in a Test Suite**:
   Group your test case with others in a test suite for easier management and execution.

8. **Execute the Test Suite and View Results**:
   Run the test suite to verify results and identify any errors.

#### Scenario 2: Make an Appointment

This scenario tests the entire process of making an appointment:

1. **Launch AUT**:
   Open the CURA Healthcare Service application.

2. **Click "Make Appointment" Button**:
   Verify the presence of the button and simulate a click.

3. **Login**:
   Enter the valid username (`John Doe`) and password (`ThisIsNotAPassword`), then click "Login."

4. **Make Appointment**:
   Select the location (e.g., Tokyo), choose the date, add comments, and submit the appointment form.

### Recording a Test

You can automate the process by recording the test steps directly using **Katalonâ€™s Record Web function**:

1. **Create a Test Case**:
   Name the test case (e.g., "Record Appointment Test").

2. **Click Record Web**:
   From the main toolbar, select "Record Web."

3. **Select a Browser**:
   Choose your preferred browser and begin recording actions.

4. **Play the Scenario**:
   As you interact with the application, Katalon will record each step.

5. **Stop the Recording**:
   Once the scenario is complete, stop the recording.

6. **Check the Saved Results**:
   Review the recorded test steps to ensure accuracy.

7. **Playback**:
   Play the recorded test case to validate the process.

### BDD (Behavior Driven Development) Testing with Cucumber & Gherkin

#### Setting up Cucumber & Gherkin

1. **Install Cucumber Plugin**:
   From Katalon Studio, install the Cucumber plugin to start using Gherkin syntax for BDD.

2. **Configure the Environment**:
   Set up the project to support Gherkin features and link step definitions in Groovy.

### IMPROVE YOUR PROJECT (BDD)

Steps to enhance the project with BDD:

1. **Create Feature Files**:
   - Define feature files for the tests, such as `CheckLandingPage.feature` and `MakeAppointment.feature`.
   - Ensure that the scenarios describe the expected behavior in Gherkin format.

2. **Step Definitions**:
   - Write or reuse step definition methods (in Groovy) to map the Gherkin steps to code logic.
   - Example:

     ```groovy
     @When("I click on the {string} button")
     def i_click_on_the_button(String buttonName) {
         WebUI.click(findTestObject('Page_CURA Healthcare Service/' + buttonName))
     }
     ```

3. **Run the Features & Check Results**:
   Execute the BDD tests and check for successful completion.

4. **Create a Test Suite for Features**:
   Group all feature files into a test suite for BDD execution.

5. **Run the Test Suite & Verify Results**:
   Run the entire test suite and analyze the output to ensure correctness.

### SAMPLE FEATURE FILES

1. **CheckLandingPage.feature**

   ```gherkin
   Feature: Check Landing Page Content
     As a user
     I want to navigate to the AUT URL
     So that I can see the landing page of the AUT

     Scenario: Check Make Appointment button is present
       Given I have the browser open
       When I navigate to the URL "https://katalon-demo-cura.herokuapp.com/"
       Then I verify that the button "Make Appointment" is present
       And I close the browser
   ```

2. **MakeAppointment.feature**

   ```gherkin
   Feature: Make an appointment
     As a user
     I want to log in to the system and fill in the appointment form data
     So that I can create an appointment

     Scenario: Make an appointment
       Given I have the browser open
       When I navigate to the URL "https://katalon-demo-cura.herokuapp.com/"
       And I click on the "Make Appointment" button
       And I insert "John Doe" in the username field
       And I insert "ThisIsNotAPassword" in the password field
       And I click on the "Login" button
       And I set the location to the "Tokyo" Healthcare Center
       And I apply for readmission
       And I choose Medicaid
       And I select the date to "07/10/2023"
       And I add "xpto" in the comments field
       And I click on the "Book Appointment" button
       Then I see the text "Appointment Confirmation"
       And I close the browser
   ```

### WORK PROPOSAL

Choose one of the following applications to create Katalon test projects for:

- [The Internet](http://the-internet.herokuapp.com/)
- [Google Gruyere](https://google-gruyere.appspot.com/)

**Tasks**:

- Set up a Katalon project for the selected site.
- Design and create multiple test cases.
- Group test cases into test suites for organized execution.
